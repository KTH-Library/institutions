<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Global Research Identifier Database (GRID) • institutions</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Global Research Identifier Database (GRID)">
<meta name="description" content="The grid.ac website provides open data on institutions around the world under the CC0 license. This R package downloads the data and generates a SQLite3 db, making data available with full text search capabilities to use from R.">
<meta property="og:description" content="The grid.ac website provides open data on institutions around the world under the CC0 license. This R package downloads the data and generates a SQLite3 db, making data available with full text search capabilities to use from R.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">institutions</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/institutions.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/geocode.html">Geocoding usage example</a></li>
    <li><a class="dropdown-item" href="articles/meta.html">Description of the GRID db</a></li>
    <li><a class="dropdown-item" href="articles/ror.html">Data from the Research Organization Registry Community</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/KTH-Library/institutions/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="institutions">institutions<a class="anchor" aria-label="anchor" href="#institutions"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of the R package <code>institutions</code> is to provide access to institutional data in R from the Global Research Identifier Database (GRID) which is available under the Creative Commons Public Domain 1.0 International licence (see <a href="https://grid.ac" class="external-link uri">https://grid.ac</a>). This dataset is used by for example Altmetric, Dimensions, Figshare and others.</p>
<p>This package also embeds data from from the Research Organization Registry Community (see <a href="https://ror.org/" class="external-link uri">https://ror.org/</a>). All ROR IDs and metadata are provided under the Creative Commons CC0 1.0 Universal Public Domain Dedication. There are no restrictions on access to and use of ROR IDs and metadata. Some more information about this dataset can be found at: <a href="https://ror.org/facts/#core-components" class="external-link uri">https://ror.org/facts/#core-components</a>. The <code>ror</code> dataset provides acccess to this data from within R; the <code>ror$ror_ids</code> table contains external identifers including, for all records, the GRID identifier. This identifier can be used to link to the ROR data with the GRID dataset exposed in this R package.</p>
<div class="section level2">
<h2 id="r-data-package-background">R “data package” background<a class="anchor" aria-label="anchor" href="#r-data-package-background"></a>
</h2>
<p>This R package is a kind of <a href="https://r-pkgs.org/data.html#data-data" class="external-link">“data package”</a> primarily intended to be used to provide reference data (from GRID and ROR) when used in other workflows. It is not a “data only package”, since it provides some functions that might also be useful when doing data wrangling against this reference data (mainly for supporting geocoding and full text search lookups).</p>
<p>The package downloads some curated data from <a href="https://digitalscience.figshare.com/ndownloader/files/20151785" class="external-link uri">https://digitalscience.figshare.com/ndownloader/files/20151785</a> and migrates this into a full text search indexed SQLite database residing locally. This FTS-enabled database is then exposed through a couple of functions by way of tibbles.</p>
<p>The idea is to show how to provide access to a potentially provide access to a larger database and how to enable use of in-built full text search capabilities in SQLite by downloading potentially big remote data and installing it locally using <a href="https://rdrr.io/cran/rappdirs/" class="external-link"><code>rappdirs</code></a>.</p>
<p>With this approach, the R package can stay small. There are a few minor practical drawbacks - mostly that your package will initially not work off-line until at least one initial successfull call to download the data has been made which would require a connection to the Internet.</p>
<p>The upside is being able to tap into things like Full Text Search for datasets and with this approach the package can stay small and pass the CRAN checks without requiring exceptions, while the dataset size is only limited to 2TB (an SQLite limitation).</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of institutions from <a href="https://github.com/KTH-Library/institutions" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"KTH-Library/institutions"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to get started:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/KTH-Library/institutions" class="external-link">institutions</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># on first run, make sure to download the data which will generate the SQLite db </span></span>
<span><span class="fu"><a href="reference/institutions_download.html">institutions_download</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># where are the data files - remotely and locally?</span></span>
<span><span class="fu"><a href="reference/institutions_cfg.html">institutions_cfg</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $src_url</span></span>
<span><span class="co">#&gt; [1] "https://ndownloader.figshare.com/files/30895309"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dest</span></span>
<span><span class="co">#&gt; [1] "~/.config/institutions"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $zip</span></span>
<span><span class="co">#&gt; [1] "~/.config/institutions/grid.zip"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $db</span></span>
<span><span class="co">#&gt; [1] "~/.config/institutions/grid.db"</span></span></code></pre></div>
<p>To do a full text search for institutional addresses and locations (see <a href="https://www.sqlite.org/fts5.html#full_text_query_syntax" class="external-link">details on FTS syntax here</a>):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># do a full text search for institutions matching the search query "Royal AND Technology</span></span>
<span><span class="fu"><a href="reference/institutions_search.html">institutions_search</a></span><span class="op">(</span><span class="st">"Royal AND Technology"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 15</span></span>
<span><span class="co">#&gt;   institutes     grid_id line_1 line_2 line_3   lat   lng postcode primary city </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 Royal Institu… grid.5… &lt;NA&gt;   &lt;NA&gt;       NA  59.3  18.1 &lt;NA&gt;           0 Stoc…</span></span>
<span><span class="co">#&gt; # ℹ 5 more variables: state &lt;chr&gt;, state_code &lt;chr&gt;, country &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   country_code &lt;chr&gt;, geonames_city_id &lt;dbl&gt;</span></span></code></pre></div>
<p>All tables in the database can be enumerated and accessed individually:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># enumerate all db tables</span></span>
<span><span class="fu"><a href="reference/institutions_tables.html">institutions_tables</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "acronyms"      "addresses"     "aliases"       "external_ids" </span></span>
<span><span class="co">#&gt;  [5] "geonames"      "grid"          "institutes"    "labels"       </span></span>
<span><span class="co">#&gt;  [9] "links"         "relationships" "types"</span></span>
<span></span>
<span><span class="co"># get acronym data</span></span>
<span><span class="fu"><a href="reference/institutions_table.html">institutions_table</a></span><span class="op">(</span><span class="st">"acronyms"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 42,840 × 2</span></span>
<span><span class="co">#&gt;    grid_id     acronym</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 grid.1001.0 ANU    </span></span>
<span><span class="co">#&gt;  2 grid.1003.2 UQ     </span></span>
<span><span class="co">#&gt;  3 grid.1005.4 UNSW   </span></span>
<span><span class="co">#&gt;  4 grid.1007.6 UOW    </span></span>
<span><span class="co">#&gt;  5 grid.1009.8 UTAS   </span></span>
<span><span class="co">#&gt;  6 grid.1011.1 JCU    </span></span>
<span><span class="co">#&gt;  7 grid.1012.2 UWA    </span></span>
<span><span class="co">#&gt;  8 grid.1013.3 USYD   </span></span>
<span><span class="co">#&gt;  9 grid.1016.6 CSIRO  </span></span>
<span><span class="co">#&gt; 10 grid.1017.7 RMIT   </span></span>
<span><span class="co">#&gt; # ℹ 42,830 more rows</span></span></code></pre></div>
<p>Custom queries can be made:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># a custom query, first get an id to work with</span></span>
<span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/institutions_search.html">institutions_search</a></span><span class="op">(</span><span class="st">"Royal Institute of Technology"</span><span class="op">)</span><span class="op">$</span><span class="va">grid_id</span></span>
<span></span>
<span><span class="co"># assemble some sql using that id</span></span>
<span><span class="va">sql</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"select * from links where grid_id = '%s'"</span>, <span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/institutions_query.html">institutions_query</a></span><span class="op">(</span><span class="va">sql</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 2</span></span>
<span><span class="co">#&gt;   grid_id     link                </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;               </span></span>
<span><span class="co">#&gt; 1 grid.5037.1 http://www.kth.se/en</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/KTH-Library/institutions/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/KTH-Library/institutions/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing institutions</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Markus Skyttner <br><small class="roles"> Maintainer, author </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/KTH-Library/institutions/actions" class="external-link"><img src="https://github.com/KTH-Library/institutions/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://github.com/KTH-Library/institutions/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/KTH-Library/institutions/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Markus Skyttner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
