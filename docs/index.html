<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Global Research Identifier Database (GRID) • institutions</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Global Research Identifier Database (GRID)">
<meta property="og:description" content="The grid.ac website provides open data on
    institutions around the world under the CC0 license. This R package
    downloads the data and generates a SQLite3 db, making data available
    with full text search capabilities to use from R.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">institutions</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/institutions.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/geocode.html">Geocoding usage example</a>
    </li>
    <li>
      <a href="articles/meta.html">Description of the GRID db</a>
    </li>
    <li>
      <a href="articles/ror.html">Data from the Research Organization Registry Community</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/KTH-Library/institutions/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="institutions" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#institutions" class="anchor"></a>institutions</h1></div>
<!-- badges: start -->

<p>The goal of the R package <code>institutions</code> is to provide access to institutional data in R from the Global Research Identifier Database (GRID) which is available under the Creative Commons Public Domain 1.0 International licence (see <a href="https://grid.ac" class="uri">https://grid.ac</a>). This dataset is used by for example Altmetric, Dimensions, Figshare and others.</p>
<p>This package also embeds data from from the Research Organization Registry Community (see <a href="https://ror.org/" class="uri">https://ror.org/</a>). All ROR IDs and metadata are provided under the Creative Commons CC0 1.0 Universal Public Domain Dedication. There are no restrictions on access to and use of ROR IDs and metadata. Some more information about this dataset can be found at: <a href="https://ror.org/facts/#core-components" class="uri">https://ror.org/facts/#core-components</a>. The <code>ror</code> dataset provides acccess to this data from within R; the <code>ror$ror_ids</code> table contains external identifers including, for all records, the GRID identifier. This identifier can be used to link to the ROR data with the GRID dataset exposed in this R package.</p>
<div id="r-data-package-background" class="section level2">
<h2 class="hasAnchor">
<a href="#r-data-package-background" class="anchor"></a>R “data package” background</h2>
<p>This R package is a kind of <a href="https://r-pkgs.org/data.html#data-data">“data package”</a> primarily intended to be used to provide reference data (from GRID and ROR) when used in other workflows. It is not a “data only package”, since it provides some functions that might also be useful when doing data wrangling against this reference data (mainly for supporting geocoding and full text search lookups).</p>
<p>The package downloads some curated data from <a href="https://digitalscience.figshare.com/ndownloader/files/20151785" class="uri">https://digitalscience.figshare.com/ndownloader/files/20151785</a> and migrates this into a full text search indexed SQLite database residing locally. This FTS-enabled database is then exposed through a couple of functions by way of tibbles.</p>
<p>The idea is to show how to provide access to a potentially provide access to a larger database and how to enable use of in-built full text search capabilities in SQLite by downloading potentially big remote data and installing it locally using <a href="https://rdrr.io/cran/rappdirs/"><code>rappdirs</code></a>.</p>
<p>With this approach, the R package can stay small. There are a few minor practical drawbacks - mostly that your package will initially not work off-line until at least one initial successfull call to download the data has been made which would require a connection to the Internet.</p>
<p>The upside is being able to tap into things like Full Text Search for datasets and with this approach the package can stay small and pass the CRAN checks without requiring exceptions, while the dataset size is only limited to 2TB (an SQLite limitation).</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the development version of institutions from <a href="https://github.com/KTH-Library/institutions">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/">devtools</a></span><span class="op">)</span>
<span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"KTH-Library/institutions"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>This is a basic example which shows you how to get started:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/KTH-Library/institutions">institutions</a></span><span class="op">)</span>

<span class="co"># on first run, make sure to download the data which will generate the SQLite db </span>
<span class="fu"><a href="reference/institutions_download.html">institutions_download</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># where are the data files - remotely and locally?</span>
<span class="fu"><a href="reference/institutions_cfg.html">institutions_cfg</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; $src_url</span>
<span class="co">#&gt; [1] "https://digitalscience.figshare.com/ndownloader/files/20151785"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $dest</span>
<span class="co">#&gt; [1] "/home/markus/.config/institutions"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $zip</span>
<span class="co">#&gt; [1] "/home/markus/.config/institutions/grid.zip"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $db</span>
<span class="co">#&gt; [1] "/home/markus/.config/institutions/grid.db"</span></code></pre></div>
<p>To do a full text search for institutional addresses and locations (see <a href="https://www.sqlite.org/fts5.html#full_text_query_syntax">details on FTS syntax here</a>):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># do a full text search for institutions matching the search query "Royal AND Technology</span>
<span class="fu"><a href="reference/institutions_search.html">institutions_search</a></span><span class="op">(</span><span class="st">"Royal AND Technology"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 15</span>
<span class="co">#&gt;   institutes grid_id line_1 line_2 line_3   lat   lng postcode primary city </span>
<span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;   &lt;int&gt;  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;</span>
<span class="co">#&gt; 1 Royal Ins… grid.5… &lt;NA&gt;       NA     NA  59.3  18.1 &lt;NA&gt;           0 Stoc…</span>
<span class="co">#&gt; # … with 5 more variables: state &lt;chr&gt;, state_code &lt;chr&gt;, country &lt;chr&gt;,</span>
<span class="co">#&gt; #   country_code &lt;chr&gt;, geonames_city_id &lt;dbl&gt;</span></code></pre></div>
<p>All tables in the database can be enumerated and accessed individually:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># enumerate all db tables</span>
<span class="fu"><a href="reference/institutions_tables.html">institutions_tables</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;  [1] "acronyms"      "addresses"     "aliases"       "external_ids" </span>
<span class="co">#&gt;  [5] "geonames"      "grid"          "institutes"    "labels"       </span>
<span class="co">#&gt;  [9] "links"         "relationships" "types"</span>

<span class="co"># get acronym data</span>
<span class="fu"><a href="reference/institutions_table.html">institutions_table</a></span><span class="op">(</span><span class="st">"acronyms"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 41,210 x 2</span>
<span class="co">#&gt;    grid_id     acronym</span>
<span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;  </span>
<span class="co">#&gt;  1 grid.1001.0 ANU    </span>
<span class="co">#&gt;  2 grid.1003.2 UQ     </span>
<span class="co">#&gt;  3 grid.1005.4 UNSW   </span>
<span class="co">#&gt;  4 grid.1007.6 UOW    </span>
<span class="co">#&gt;  5 grid.1009.8 UTAS   </span>
<span class="co">#&gt;  6 grid.1011.1 JCU    </span>
<span class="co">#&gt;  7 grid.1012.2 UWA    </span>
<span class="co">#&gt;  8 grid.1013.3 USYD   </span>
<span class="co">#&gt;  9 grid.1016.6 CSIRO  </span>
<span class="co">#&gt; 10 grid.1017.7 RMIT   </span>
<span class="co">#&gt; # … with 41,200 more rows</span></code></pre></div>
<p>Custom queries can be made:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># a custom query, first get an id to work with</span>
<span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/institutions_search.html">institutions_search</a></span><span class="op">(</span><span class="st">"Royal Institute of Technology"</span><span class="op">)</span><span class="op">$</span><span class="va">grid_id</span>

<span class="co"># assemble some sql using that id</span>
<span class="va">sql</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"select * from links where grid_id = '%s'"</span>, <span class="va">id</span><span class="op">)</span>

<span class="fu"><a href="reference/institutions_query.html">institutions_query</a></span><span class="op">(</span><span class="va">sql</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 2</span>
<span class="co">#&gt;   grid_id     link                </span>
<span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;               </span>
<span class="co">#&gt; 1 grid.5037.1 http://www.kth.se/en</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/KTH-Library/institutions/">https://​github.com/​KTH-Library/​institutions/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/KTH-Library/institutions/issues">https://​github.com/​KTH-Library/​institutions/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Markus Skyttner <br><small class="roles"> Maintainer, author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/KTH-Library/institutions/actions"><img src="https://github.com/KTH-Library/institutions/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Markus Skyttner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
